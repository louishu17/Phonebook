{"version":3,"sources":["components/Person.js","components/Content.js","components/Filter.js","components/Notification.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","id","Content","persons","allPersons","console","log","length","map","i","Filter","newSearchName","handleSearchNameChange","value","onChange","successStyle","color","background","font_size","border_style","border_radius","border_color","padding","margin_bottom","errorStyle","Notificaiton","message","includes","style","className","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setAllPersons","setNewName","setNewNumber","setNewSearchName","setMessage","useEffect","personService","initialPersons","Notification","event","target","filteredPersons","filter","toLowerCase","preventDefault","personToAdd","updatedPerson","window","confirm","returnedPerson","personItem","setTimeout","catch","error","concat","filteredPerson","personName","personId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5187347e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ person, deletePerson }) => (\r\n\t<li>\r\n\t\t{person.name} {person.number}{' '}\r\n\t\t<button onClick={() => deletePerson(person.id)}>delete</button>\r\n\t</li>\r\n);\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Content = ({ persons, allPersons, deletePerson }) => {\r\n\tconsole.log(persons.length);\r\n\tif (persons.length === 0) {\r\n\t\treturn (\r\n\t\t\t<ul>\r\n\t\t\t\t{allPersons.map((person, i) => (\r\n\t\t\t\t\t<Person key={i} person={person} deletePerson={deletePerson} />\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<ul>\r\n\t\t\t\t{persons.map((person, i) => (\r\n\t\t\t\t\t<Person key={i} person={person} deletePerson={deletePerson} />\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default Content;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ newSearchName, handleSearchNameChange }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with{' '}\r\n\t\t\t<input value={newSearchName} onChange={handleSearchNameChange} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst successStyle = {\r\n\tcolor: 'green',\r\n\tbackground: 'lightgrey',\r\n\tfont_size: '20',\r\n\tborder_style: 'solid',\r\n\tborder_radius: 5,\r\n\tborder_color: 'green',\r\n\tpadding: 10,\r\n\tmargin_bottom: 10,\r\n};\r\n\r\nconst errorStyle = {\r\n\tcolor: 'red',\r\n\tbackground: 'lightgrey',\r\n\tfont_size: 20,\r\n\tborder_style: 'solid',\r\n\tborder_radius: 5,\r\n\tpadding: 10,\r\n\tmargin_bottom: 10,\r\n};\r\n\r\nconst Notificaiton = ({ message }) => {\r\n\tif (message == null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (message.includes('ERROR')) {\r\n\t\treturn (\r\n\t\t\t<div style={errorStyle} className='error'>\r\n\t\t\t\t{message}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={successStyle} className='error'>\r\n\t\t\t{message}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Notificaiton;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n\taddName,\r\n\tnewName,\r\n\thandleNameChange,\r\n\tnewNumber,\r\n\thandleNumberChange,\r\n}) => {\r\n\treturn (\r\n\t\t<form onSubmit={addName}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import axios from 'axios';\r\nconst baseUrl = 'https://nameless-reaches-32726.herokuapp.com/api/persons';\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst deleteP = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deleteP };\r\n","import React, { useEffect, useState } from 'react';\nimport Content from './components/Content';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport PersonForm from './components/PersonForm';\nimport personService from './services/persons';\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [allPersons, setAllPersons] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newNumber, setNewNumber] = useState('');\n\tconst [newSearchName, setNewSearchName] = useState('');\n\tconst [message, setMessage] = useState(null);\n\n\tuseEffect(() => {\n\t\tconsole.log('effect');\n\t\tpersonService.getAll().then((initialPersons) => {\n\t\t\tsetAllPersons(initialPersons);\n\t\t});\n\t}, []);\n\n\tconst addName = (event) => {\n\t\tevent.preventDefault();\n\t\tconst person = allPersons.filter((person) => person.name === newName);\n\n\t\tconst personToAdd = person[0];\n\t\tconst updatedPerson = { ...personToAdd, number: newNumber };\n\n\t\tif (person.length !== 0) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${personToAdd.name} is already added to the phonebook, replace the old number with a new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tpersonService\n\t\t\t\t\t.update(updatedPerson.id, updatedPerson)\n\t\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\t\tconsole.log(`${returnedPerson.name} successfully updated`);\n\t\t\t\t\t\tsetAllPersons(\n\t\t\t\t\t\t\tallPersons.map((personItem) =>\n\t\t\t\t\t\t\t\tpersonItem.id !== personToAdd.id ? personItem : returnedPerson\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNewName('');\n\t\t\t\t\t\tsetNewNumber('');\n\t\t\t\t\t\tsetMessage(`${updatedPerson.name} was successfully updated`);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\tsetAllPersons(\n\t\t\t\t\t\t\tallPersons.filter((person) => person.id !== updatedPerson.id)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNewName('');\n\t\t\t\t\t\tsetNewNumber('');\n\t\t\t\t\t\tsetMessage(\n\t\t\t\t\t\t\t`[ERROR] ${updatedPerson.name} was already deleted from server`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tconst personToAdd = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber,\n\t\t\t};\n\n\t\t\tpersonService\n\t\t\t\t.create(personToAdd)\n\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\tsetAllPersons(allPersons.concat(returnedPerson));\n\t\t\t\t\tsetNewName('');\n\t\t\t\t\tsetNewNumber('');\n\t\t\t\t\tsetMessage(`Added ${returnedPerson.name}`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetMessage(`[ERROR] ${error.response.data.error}`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t\tconsole.log(error.response.data);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst deletePerson = (id) => {\n\t\tconst filteredPerson = allPersons.filter((person) => person.id === id);\n\t\tconst personName = filteredPerson[0].name;\n\t\tconst personId = filteredPerson[0].id;\n\t\tif (window.confirm(`Delete ${personName}`)) {\n\t\t\tpersonService.deleteP(personId);\n\t\t\tconsole.log(`${personName} successfully deleted`);\n\t\t\tsetMessage(`${personName} was successfully deleted`);\n\t\t\tsetAllPersons(allPersons.filter((person) => person.id !== personId));\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetMessage(null);\n\t\t\t}, 5000);\n\t\t}\n\t};\n\n\tconst handleNameChange = (event) => {\n\t\tconsole.log(event.target.value);\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\tconst handleSearchNameChange = (event) => {\n\t\tconsole.log(event.target.value);\n\t\tsetNewSearchName(event.target.value);\n\t\tconst filteredPersons = allPersons.filter((person) =>\n\t\t\tperson.name.toLowerCase().includes(event.target.value.toLowerCase())\n\t\t);\n\t\tsetPersons(filteredPersons);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={message} />\n\t\t\t<Filter\n\t\t\t\tnewSearchName={newSearchName}\n\t\t\t\thandleSearchNameChange={handleSearchNameChange}\n\t\t\t/>\n\t\t\t<h3>Add a new</h3>\n\t\t\t<PersonForm\n\t\t\t\taddName={addName}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t<Content\n\t\t\t\tpersons={persons}\n\t\t\t\tallPersons={allPersons}\n\t\t\t\tdeletePerson={deletePerson}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}