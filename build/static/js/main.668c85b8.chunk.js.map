{"version":3,"sources":["components/Person.js","components/Content.js","components/Filter.js","components/Notification.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","id","Content","persons","allPersons","console","log","length","map","i","Filter","onChange","value","successStyle","color","background","font_size","border_style","border_radius","border_color","padding","margin_bottom","errorStyle","Notificaiton","message","includes","style","className","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setMessage","filter","setFilter","filterPersons","setFilterPersons","useEffect","personService","initialPersons","Notification","event","target","toLowerCase","indexOf","preventDefault","personToAdd","updatedPerson","window","confirm","returnedPerson","personItem","setTimeout","catch","error","concat","filteredPerson","personName","personId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.668c85b8.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ person, deletePerson }) => (\r\n\t<li>\r\n\t\t{person.name} {person.number}{' '}\r\n\t\t<button onClick={() => deletePerson(person.id)}>delete</button>\r\n\t</li>\r\n);\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Content = ({ persons, allPersons, deletePerson }) => {\r\n\tconsole.log(persons.length);\r\n\tif (persons.length === 0) {\r\n\t\treturn (\r\n\t\t\t<ul>\r\n\t\t\t\t{allPersons.map((person, i) => (\r\n\t\t\t\t\t<Person key={i} person={person} deletePerson={deletePerson} />\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<ul>\r\n\t\t\t\t{persons.map((person, i) => (\r\n\t\t\t\t\t<Person key={i} person={person} deletePerson={deletePerson} />\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default Content;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ onChange, value }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with <input onChange={onChange} value={value} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst successStyle = {\r\n\tcolor: 'green',\r\n\tbackground: 'lightgrey',\r\n\tfont_size: '20',\r\n\tborder_style: 'solid',\r\n\tborder_radius: 5,\r\n\tborder_color: 'green',\r\n\tpadding: 10,\r\n\tmargin_bottom: 10,\r\n};\r\n\r\nconst errorStyle = {\r\n\tcolor: 'red',\r\n\tbackground: 'lightgrey',\r\n\tfont_size: 20,\r\n\tborder_style: 'solid',\r\n\tborder_radius: 5,\r\n\tpadding: 10,\r\n\tmargin_bottom: 10,\r\n};\r\n\r\nconst Notificaiton = ({ message }) => {\r\n\tif (message == null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (message.includes('ERROR')) {\r\n\t\treturn (\r\n\t\t\t<div style={errorStyle} className='error'>\r\n\t\t\t\t{message}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={successStyle} className='error'>\r\n\t\t\t{message}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Notificaiton;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n\taddName,\r\n\tnewName,\r\n\thandleNameChange,\r\n\tnewNumber,\r\n\thandleNumberChange,\r\n}) => {\r\n\treturn (\r\n\t\t<form onSubmit={addName}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst deleteP = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deleteP };\r\n","import React, { useEffect, useState } from 'react';\nimport Content from './components/Content';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport PersonForm from './components/PersonForm';\nimport personService from './services/persons';\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newNumber, setNewNumber] = useState('');\n\tconst [message, setMessage] = useState(null);\n\n\tconst [filter, setFilter] = useState('');\n\tconst [filterPersons, setFilterPersons] = useState(persons);\n\n\tuseEffect(() => {\n\t\tconsole.log('effect');\n\t\tpersonService.getAll().then((initialPersons) => {\n\t\t\tsetPersons(initialPersons);\n\t\t});\n\t}, []);\n\n\t// Filter\n\tconst handleFilterChange = (event) => {\n\t\tconsole.log(event.target.value);\n\t\tsetFilter(event.target.value);\n\t\tsetFilterPersons(\n\t\t\tpersons.filter(\n\t\t\t\t(person) =>\n\t\t\t\t\tperson.name\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.indexOf(event.target.value.toLowerCase()) !== -1\n\t\t\t)\n\t\t);\n\t};\n\n\tconst addName = (event) => {\n\t\tevent.preventDefault();\n\t\tconst person = filterPersons.filter((person) => person.name === newName);\n\n\t\tconst personToAdd = person[0];\n\t\tconst updatedPerson = { ...personToAdd, number: newNumber };\n\n\t\tif (person.length !== 0) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${personToAdd.name} is already added to the phonebook, replace the old number with a new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tpersonService\n\t\t\t\t\t.update(updatedPerson.id, updatedPerson)\n\t\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\t\tconsole.log(`${returnedPerson.name} successfully updated`);\n\t\t\t\t\t\tsetFilterPersons(\n\t\t\t\t\t\t\tfilterPersons.map((personItem) =>\n\t\t\t\t\t\t\t\tpersonItem.id !== personToAdd.id ? personItem : returnedPerson\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNewName('');\n\t\t\t\t\t\tsetNewNumber('');\n\t\t\t\t\t\tsetMessage(`${updatedPerson.name} was successfully updated`);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\tsetFilterPersons(\n\t\t\t\t\t\t\tfilterPersons.filter((person) => person.id !== updatedPerson.id)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNewName('');\n\t\t\t\t\t\tsetNewNumber('');\n\t\t\t\t\t\tsetMessage(\n\t\t\t\t\t\t\t`[ERROR] ${updatedPerson.name} was already deleted from server`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tconst personToAdd = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber,\n\t\t\t};\n\n\t\t\tpersonService\n\t\t\t\t.create(personToAdd)\n\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\tsetFilterPersons(filterPersons.concat(returnedPerson));\n\t\t\t\t\tsetNewName('');\n\t\t\t\t\tsetNewNumber('');\n\t\t\t\t\tsetMessage(`Added ${returnedPerson.name}`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetMessage(`[ERROR] ${error.response.data.error}`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t\tconsole.log(error.response.data);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst deletePerson = (id) => {\n\t\tconst filteredPerson = filterPersons.filter((person) => person.id === id);\n\t\tconst personName = filteredPerson[0].name;\n\t\tconst personId = filteredPerson[0].id;\n\t\tif (window.confirm(`Delete ${personName}`)) {\n\t\t\tpersonService.deleteP(personId);\n\t\t\tconsole.log(`${personName} successfully deleted`);\n\t\t\tsetMessage(`${personName} was successfully deleted`);\n\t\t\tsetFilterPersons(\n\t\t\t\tfilterPersons.filter((person) => person.id !== personId)\n\t\t\t);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetMessage(null);\n\t\t\t}, 5000);\n\t\t}\n\t};\n\n\tconst handleNameChange = (event) => {\n\t\tconsole.log(event.target.value);\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={message} />\n\t\t\t<Filter onChange={handleFilterChange} value={filter} />\n\t\t\t<h3>Add a new</h3>\n\t\t\t<PersonForm\n\t\t\t\taddName={addName}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t<Content\n\t\t\t\tpersons={persons}\n\t\t\t\tallPersons={filterPersons}\n\t\t\t\tdeletePerson={deletePerson}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}